<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Basic code examples</title><meta name="Language" content="en-us" /><meta name="System.Keywords" content="Basic code examples" /><meta name="Microsoft.Help.Id" content="basic" /><meta name="Description" content="These code examples show basic principles for AutomationML application development using the AMLEngine." /><meta name="Microsoft.Help.ContentType" content="How To" /><meta name="BrandingAware" content="true" /><link type="text/css" rel="stylesheet" href="../styles/highlight.css" /><script type="text/javascript" src="../scripts/highlight.js"> </script><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-1.11.0.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script><script type="text/javascript" src="../scripts/clipboard.min.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">The AutomationML API Reference Guide<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html\welcome.htm" title="The AutomationML API Reference Guide" tocid="roottoc">The AutomationML API Reference Guide</a></div><div class="toclevel1" data-toclevel="1"><a data-tochassubtree="false" href="../html/welcome.htm" title="AutomationML API Reference Guide" tocid="welcome">AutomationML API Reference Guide</a></div><div class="toclevel1" data-toclevel="1"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/Version history.htm" title="Version History" tocid="Version history">Version History</a></div><div class="toclevel1" data-toclevel="1"><a data-tochassubtree="false" href="../html/adaption.htm" title="Adaption of legacy code." tocid="adaption">Adaption of legacy code.</a></div><div class="toclevel1 current" data-toclevel="1"><a data-tochassubtree="false" href="../html/basic.htm" title="Basic code examples" tocid="basic">Basic code examples</a></div><div class="toclevel1" data-toclevel="1"><a data-tochassubtree="false" href="../html/service.htm" title="Advanced document processing using services" tocid="service">Advanced document processing using services</a></div><div class="toclevel1" data-toclevel="1"><a data-tochassubtree="false" href="../html/queries.htm" title="Query Examples" tocid="queries">Query Examples</a></div><div class="toclevel1" data-toclevel="1"><a data-tochassubtree="false" href="../html/validation.htm" title="Document Validation" tocid="validation">Document Validation</a></div><div class="toclevel1" data-toclevel="1"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/R_Project_AMLEngineDocumentation.htm" title="AutomationML API" tocid="R_Project_AMLEngineDocumentation">AutomationML API</a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="logoColumn"><img src="../icons/logoShade.png" /></td><td class="titleColumn"><h1>Basic code examples</h1></td></tr></table><span class="introStyle">AutomationML 2.1 API</span> <div class="introduction"><p>
				These code examples show basic principles for AutomationML application development using the AMLEngine.
			</p></div><h3 class="procedureSubHeading">Basic Examples</h3><div class="subSection"><ol><li id="Loading"><p>Loading a Document</p><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EAAAHBEAAA_tab1" class="codeSnippetContainerTabSingle">C#</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EAAAHBEAAA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EAAAHBEAAA');return false;" title="Copy">Copy</a></div></div><div id="ID0EAAAHBEAAA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-keyword">using</span> Aml.Engine.CAEX;

<span class="highlight-keyword">var</span> document = CAEXDocument.LoadFromFile (<span class="highlight-literal">"myFile.aml"</span>);</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EAAAHBEAAA");</script></li><li id="Saving"><p>Saving a Document</p><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EAAAGBEAAA_tab1" class="codeSnippetContainerTabSingle">C#</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EAAAGBEAAA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EAAAGBEAAA');return false;" title="Copy">Copy</a></div></div><div id="ID0EAAAGBEAAA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-keyword">using</span> Aml.Engine.CAEX;

CAEXDocument.SaveToFile (<span class="highlight-literal">"myFile.aml"</span>, <span class="highlight-keyword">true</span>);</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EAAAGBEAAA");</script></li><li id="Creation"><p>Creation of a new CAEX document with InternaElements</p><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EAAAFBEAAA_tab1" class="codeSnippetContainerTabSingle">C#</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EAAAFBEAAA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EAAAFBEAAA');return false;" title="Copy">Copy</a></div></div><div id="ID0EAAAFBEAAA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-keyword">using</span> Aml.Engine.CAEX;

<span class="highlight-keyword">var</span> document = CAEXDocument.New_Document ();
<span class="highlight-keyword">var</span> myIH = document.CAEXFile.InstanceHierarchy.Append(<span class="highlight-literal">"myIH"</span>);
<span class="highlight-keyword">var</span> myIE = myIH.InternalElement.Append(<span class="highlight-literal">"myIE"</span>);</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EAAAFBEAAA");</script></li><li id="Accessing"><p>Indexers</p><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EAAAEBEAAA_tab1" class="codeSnippetContainerTabSingle">C#</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EAAAEBEAAA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EAAAEBEAAA');return false;" title="Copy">Copy</a></div></div><div id="ID0EAAAEBEAAA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-keyword">using</span> Aml.Engine.CAEX;

<span class="highlight-keyword">var</span> document = CAEXDocument.New_Document ();
<span class="highlight-keyword">var</span> myIH = document.CAEXFile.InstanceHierarchy.Append(<span class="highlight-literal">"myIH"</span>);
myIH.Version = <span class="highlight-literal">"1.0"</span>;

<span class="highlight-comment">// Get the first CAEXElement from the sequence of elements</span>
myIH = document.CAEXFile.InstanceHierarchy[<span class="highlight-number">0</span>];

<span class="highlight-comment">// Get the first CAEXElement from the sequence of elements with the name "myIH"</span>
myIH = document.CAEXFile.InstanceHierarchy[<span class="highlight-literal">"myIH"</span>];

<span class="highlight-comment">// Get the first CAEXElement with a specific attribute AND value from the sequence of elements</span>
myIH = document.CAEXFile.InstanceHierarchy[(Name:<span class="highlight-literal">"Version"</span>, Value:<span class="highlight-literal">"1.0"</span>)];</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EAAAEBEAAA");</script></li><li id="BrowseExample"><p>
							Traversing a Document.
						</p><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EAAADBEAAA_tab1" class="codeSnippetContainerTabSingle">C#</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EAAADBEAAA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EAAADBEAAA');return false;" title="Copy">Copy</a></div></div><div id="ID0EAAADBEAAA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-keyword">using</span> Aml.Engine.CAEX;
<span class="highlight-keyword">var</span> document = CAEXDocument.LoadFromFile(<span class="highlight-literal">"myFile.aml"</span>);

<span class="highlight-comment">// browse the Instance Hierarchies in the file</span>
<span class="highlight-keyword">foreach</span> (<span class="highlight-keyword">var</span> instanceHierary <span class="highlight-keyword">in</span> document.CaexFile.InstanceHierarchy)
{
        <span class="highlight-comment">// browse all InternalElements deep and import the internal Elements to your system</span>
        <span class="highlight-keyword">foreach</span> (<span class="highlight-keyword">var</span> internalElement <span class="highlight-keyword">in</span> instanceHierarchy.Descendants&lt;InternalElementType&gt;())
        {
            <span class="highlight-comment">// ToDo: import internal Element</span>
        }
}</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EAAADBEAAA");</script></li><li id="InstanceCreation"><p>Application of instantiation of a SystemUnitClass to insert an InternalElement.</p><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EAAACBEAAA_tab1" class="codeSnippetContainerTabSingle">C#</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EAAACBEAAA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EAAACBEAAA');return false;" title="Copy">Copy</a></div></div><div id="ID0EAAACBEAAA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-keyword">using</span> Aml.Engine.CAEX;

<span class="highlight-keyword">var</span> document = CAEXDocument.New_Document ();
<span class="highlight-keyword">var</span> myIH = document.CAEXFile.InstanceHierarchy.Append(<span class="highlight-literal">"myIH"</span>);
<span class="highlight-keyword">var</span> mySlib = document.CAEXFile.SystemUnitClassLib.Append(<span class="highlight-literal">"mySlib"</span>);
<span class="highlight-keyword">var</span> mySuc = mySlib.SystemUnitClass.Append(<span class="highlight-literal">"suClass"</span>);

<span class="highlight-comment">// insert a new class instance (InternalElement) to the InstanceHierarchy</span>
<span class="highlight-keyword">var</span> myIE = myIH.Insert (mySuc.CreateClassInstance());</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EAAACBEAAA");</script></li><li id="InternalLink"><p>Creation of instance to instance relations using InternalLinks</p><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EAAABBEAAA_tab1" class="codeSnippetContainerTabSingle">C#</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EAAABBEAAA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EAAABBEAAA');return false;" title="Copy">Copy</a></div></div><div id="ID0EAAABBEAAA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-keyword">using</span> Aml.Engine.CAEX;

<span class="highlight-keyword">var</span> document = CAEXDocument.New_Document ();
<span class="highlight-keyword">var</span> myIH = document.CAEXFile.InstanceHierarchy.Append(<span class="highlight-literal">"myIH"</span>);
<span class="highlight-keyword">var</span> myIClib = document.CAEXFile.InterfaceClassLib.Append(<span class="highlight-literal">"myIClib"</span>);
<span class="highlight-keyword">var</span> myIC = myIClib.InterfaceClass.Append(<span class="highlight-literal">"myIC"</span>);

<span class="highlight-comment">// create an InternalElement which is a common parent to hold the InternalLink</span>
<span class="highlight-keyword">var</span> linkParent = myIH.InternalElement.Append (<span class="highlight-literal">"linkParent"</span>);

<span class="highlight-comment">// create the instances</span>
<span class="highlight-keyword">var</span> myIEA = linkParent.InternalElement.Append (<span class="highlight-literal">"myIEA"</span>);
<span class="highlight-keyword">var</span> myIEB = linkParent.InternalElement.Append (<span class="highlight-literal">"myIEB"</span>);

<span class="highlight-comment">// create the Interfaces for the InternalLink connection</span>
myIEA.ExternalInterface.Append (<span class="highlight-literal">"a"</span>);
myIEB.ExternalInterface.Append (<span class="highlight-literal">"b"</span>);

<span class="highlight-comment">// create the instance to instance relation</span>
<span class="highlight-keyword">var</span> relation = InternalLinkType.New_InternalLink (myIEA.ExternalInterface[<span class="highlight-literal">"a"</span>], myIEB.ExternalInterface[<span class="highlight-literal">"b"</span>], <span class="highlight-literal">"rel1"</span>);

<span class="highlight-comment">// an alternative way is, to use the InternalLink collection</span>
<span class="highlight-comment">// var relation = linkParent.InternalLink.Append ("rel1");</span>
<span class="highlight-comment">// relation.AInterface = myIEA.ExternalInterface["a"];</span>
<span class="highlight-comment">// relation.BInterface = myIEB.ExternalInterface["b"];</span></pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EAAABBEAAA");</script></li><li id="BaseClass"><p>Creation of class to class relations using AutomationML Base Classes.
						</p><p>
							see also:
							<a href="T_Aml_Engine_CAEX_IClassWithBaseClassReference.htm">IClassWithBaseClassReference</a>, 
							<a href="P_Aml_Engine_CAEX_InterfaceFamilyType_BaseClass.htm">BaseClass</a>,  
							<a href="M_Aml_Engine_AmlObjects_AutomationMLInterfaceClassLibType_InterfaceClassLib.htm">InterfaceClassLib</a>,  
							<a href="M_Aml_Engine_AmlObjects_AutomationMLInterfaceClassLib_MakeAutomationMLBaseInterface.htm">MakeAutomationMLBaseInterface</a></p><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EAAAABEAAA_tab1" class="codeSnippetContainerTabSingle">C#</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EAAAABEAAA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EAAAABEAAA');return false;" title="Copy">Copy</a></div></div><div id="ID0EAAAABEAAA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-keyword">using</span> Aml.Engine.CAEX;
<span class="highlight-keyword">using</span> Aml.Engine.AmlObjects;

<span class="highlight-keyword">var</span> document = CAEXDocument.New_Document ();

<span class="highlight-comment">// the first solution shows an implementation, which uses existing libraries and classes</span>
<span class="highlight-keyword">void</span> methodWithClasses ()
{
        <span class="highlight-comment">// add the AutomationMLInterfaceClassLib</span>
        <span class="highlight-keyword">var</span> amlBaseICLib = AutomationMLInterfaceClassLibType.InterfaceClassLib(document);

        <span class="highlight-keyword">var</span> myIClib = document.CAEXFile.InterfaceClassLib.Append(<span class="highlight-literal">"myIClib"</span>);

        <span class="highlight-keyword">var</span> myIC = myIClib.InterfaceClass.Append(<span class="highlight-literal">"myICClass"</span>);
        <span class="highlight-keyword">var</span> myIC.BaseClass = amlBaseICLib.AutomationMLClass(AutomationMLInterfaceClassLib.AutomationMLBaseInterface);
}

<span class="highlight-comment">// the second solution shows an implementation, which uses the standardized class path</span>
<span class="highlight-keyword">void</span> methodWithClassPath ()
{
        <span class="highlight-keyword">var</span> myIClib = document.CAEXFile.InterfaceClassLib.Append(<span class="highlight-literal">"myIClib"</span>);

        <span class="highlight-keyword">var</span> myIC = myIClib.InterfaceClass.Append(<span class="highlight-literal">"myICClass"</span>);
         (myIC);
}
<see cref="T:Aml.Engine.CAEX.IClassWithBaseClassReference" xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5" /></pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EAAAABEAAA");</script></li></ol></div></div></div><div id="pageFooter" class="pageFooter"><p><a href="https://www.automationml.org" target="_blank">Copyright © AutomationML e.V. 2017</a></p><div class="feedbackLink">Send comments on this topic to
        <a id="HT_MailLink" href="mailto:office%40AutomationML.org?Subject=The AutomationML API Reference Guide">AutomationML office</a></div>
        <script type="text/javascript">
        var HT_mailLink = document.getElementById("HT_MailLink");
        var HT_mailLinkText = HT_mailLink.innerHTML;
        HT_mailLink.href += ": " + document.title + "\u0026body=" + encodeURIComponent("Your feedback is used to improve the documentation and the product. Your e-mail address will not be used for any other purpose and is disposed of after the issue you report is resolved. While working to resolve the issue that you report, you may be contacted via e-mail to get further details or clarification on the feedback you sent. After the issue you report has been addressed, you may receive an e-mail to let you know that your feedback has been addressed.");
        HT_mailLink.innerHTML = HT_mailLinkText;
        </script></div></body></html>